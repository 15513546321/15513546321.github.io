---
layout: post
title:  "oracle常见问题"
date:   2019-06-27 16:51:01 +0800
categories: oracle
tag: oracle
---

* content
{:toc}


用户锁定解决办法		{#user-lock}
====================

一般用于用户不知道数据库密码，尝试登陆失败多次(需要dba权限)<br>
查询是否锁定用户<br>
select username,lock_date from dba_users where username = '用户';<br>
解锁<br>
alter user 用户 account unlock;<br>

锁表的一种情况			{#table-lock}
===================
查询方式1
SELECT t2.username,t2.sid,t2.serial#,t2.logon_time<br>
FROM v$locked_object t1,v$session t2<br>
WHERE t1.session_id=t2.sid ORDER BY t2.logon_time;<br>
查询方式2
select t2.username,<br>
t2.sid,<br>
t2.serial#,<br>
t2.osuser,<br>
t3.object_name,<br>
t2.machine,<br>
t2.program,<br>
t2.logon_time ,<br>
t1.lmode<br>
from v$lock t1,v$session t2,dba_objects t3<br>
where t1.sid = t2.sid and t1.id1 = t3.object_id and t3.owner = '用户';<br>
查询方式3
select b.owner , b.object_name,a.session_id , a.locked_mode<br>
from v$locked_object a , dba_objects b<br>
where b.object_id = a.object_id ;<br>

杀掉进程<br>
eg:ALTER SYSTEM KILL SESSION '365,31045';<br>

PLSQL安装须知		{#plsql}
================
在64位电脑上装32位的PLSQL和instantclient_12_1<br>
配置文件
TNS_ADMIN<br>
D:\instantclient_12_1\tns<br>
NLS_LANG<br>
SIMPLIFIED CHINESE_CHINA.ZHS16GBK<br>
一些快捷规则
s = select * from<br>
sc = select count(*) from<br>
f = from<br>
w = where<br>
u = update<br>
d = delete<br>
c = create table<br>
i = insert into () values ()<br>
